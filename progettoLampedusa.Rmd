---
title: "ProgettoLampedusa"
output: html_document
date: "2023-12-07"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(here)
knitr::opts_knit$set(root.dir = here("progettoLampedusa", "0_Materiale"))
getwd()
```

### Come scrivere il report (consigli generali validi anche per il futuro):

1. Descrizione del problema e dei dati: descrivere qual è lo scopo dell’analisi e descrivere quante e quali variabili si hanno.

2. EDA (Exploration Data Analysis): boxplot, correlation plot, barplot, tables.

3. Data Engineering (optional): create or add new variables.

4. Missing imputation (non richiesto per questo progetto) e outlier detection: spesso gli outlier vengono rimossi o tenuti da conto per l’analisi di un dataset.

5. Feature selection: decidere quali variabili entrano in gioco nell’analisi e perché, giustificare le proprie scelte o utilizzare modelli che aiutino a fare queste scelte.

6. Model selection: fare fitting di diversi modelli e confrontarli per scegliere il modello migliore per i vostri dati.

7. Conclusioni: concludere esplicitando a cosa è servito il modello finale e se avete risposto alla domanda di ricerca presentata al primo punto.

8. Bibliografia: è buona norma includere le fonti utilizzate per produrre il vostro report (paper di riferimento, ecc.).



# progetto 5: 

NBA moderna (1976-2011): VARIABILE DIPENDENTE: numero di vittorie in stagione

COVARIATE: tutte le altre (o uno specifico insieme di queste, in base all'obiettivo di analisi)

attenzione: qui considerare solo le squadre che hanno giocato 82 partite (dataset$games==82)


# Possibili quesiti di ricerca

1. Quanto è importante avere una buona precisione nel realizzare (da 2, da 3, ai liberi)?

2. Quanto è importante che gli avversari tirino male?

3. Qual'è l'effetto di prendere più rimbalzi degli avversari e di recuperare molti palloni (stl, blk)

4. è importante saper vincere anche fuori casa per qualificarsi ai playoff?

5. è importante vincere contro le squadre delle propria division per vincere il titolo?

6. l'effetto delle variabili esplicative è cambiato nel corso dsel tempo? (dummy temporale)

7. ci sono arene percui giocare li aiuta a vincere o a qualificarsi ai playoff?


```{r}

dataset = read.delim("0_Materiale/basketball_teams.txt")
head (dataset)

FIRST = 1976 # first year 
LAST = 2011 # last year
nba82 = dataset [dataset$lgID=="NBA" & dataset$year >= FIRST & dataset$year <= LAST & dataset$games==82,]

str (dataset)
dataset$lgID <- as.factor(dataset$lgID) # perchè mi permettono di poter generare variabili dummy
summary(dataset)

hist(nba82$won)
plot(density(nba82$won))

#TESTING
plot(density(log(nba82$won))) # fa cagare


M <- cor(as.matrix(nba82[,c(11:25,54)])) # correlation matrix
corrplot(M, method = 'number')

boxplot(nba82$won ~ nba82$tmID, las=2)

```